
@import url('https://fonts.googleapis.com/css2?family=OpenDyslexic:wght@400;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Root CSS custom properties for accessibility settings */
:root {
  --font-family-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-opendyslexic: "OpenDyslexic", var(--font-family-system);
  --font-family-arial: Arial, sans-serif;
  --font-family-georgia: Georgia, serif;
}

/* Global accessibility font application using data attributes */
html[data-font-family="System"] {
  font-family: var(--font-family-system);
}

html[data-font-family="OpenDyslexic"] {
  font-family: var(--font-family-opendyslexic);
}

html[data-font-family="Arial"] {
  font-family: var(--font-family-arial);
}

html[data-font-family="Georgia"] {
  font-family: var(--font-family-georgia);
}

/* Text size scaling */
html[data-text-size="1"] {
  font-size: 14px;
}

html[data-text-size="2"] {
  font-size: 16px;
}

html[data-text-size="3"] {
  font-size: 18px;
}

html[data-text-size="4"] {
  font-size: 20px;
}

html[data-text-size="5"] {
  font-size: 22px;
}

/* Line spacing */
html[data-line-spacing="1"] * {
  line-height: 1.2;
}

html[data-line-spacing="2"] * {
  line-height: 1.5;
}

html[data-line-spacing="3"] * {
  line-height: 1.8;
}

html[data-line-spacing="4"] * {
  line-height: 2.0;
}

/* High contrast mode */
html[data-color-contrast="High"] {
  filter: contrast(1.5);
}

/* Comfort modes */
html[data-comfort-mode="Low-Stimulus"] {
  --colors-primary: #6b7280;
  --colors-accent: #9ca3af;
}

html[data-comfort-mode="Focus"] {
  --animation-duration: 0s;
}

html[data-comfort-mode="Focus"] * {
  animation-duration: 0s !important;
  transition-duration: 0s !important;
}

/* Ensure accessibility settings override component styles */
html[data-font-family] *,
html[data-font-family] .font-sans,
html[data-font-family] .font-serif,
html[data-font-family] .font-mono {
  font-family: inherit !important;
}

/* Remove mobile-specific overrides that conflict with user preferences */
@media (max-width: 768px) {
  /* Allow user font preferences to persist on mobile */
  html[data-font-family] * {
    font-family: inherit !important;
  }
  
  /* Preserve user text size preferences */
  html[data-text-size] {
    font-size: inherit;
  }
}

/* Base component styles */
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Component layer for consistent styling */
@layer components {
  .fpk-card {
    @apply bg-white border border-gray-100 rounded-xl;
  }
  
  .fpk-gradient-bg {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }
  
  .fpk-glass {
    @apply bg-white/10 backdrop-blur-md border border-white/20;
  }
}

/* Utilities for accessibility override protection */
@layer utilities {
  .accessibility-protected {
    font-family: inherit !important;
    font-size: inherit !important;
    line-height: inherit !important;
  }
}
